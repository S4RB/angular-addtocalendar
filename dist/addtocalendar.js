!function(t){function e(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var a={};e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=5)}([function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={startDate:"@",endDate:"@",title:"@",description:"@",location:"@",btnText:"@",hoverText:"@",className:"@",useCaret:"@",useBootstrap:"@"}},function(t,e,a){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),l=a(7),o=function(t){return t&&t.__esModule?t:{default:t}}(l),i=function(){function t(){n(this,t)}return r(t,null,[{key:"getMilitaryHours",value:function(t){return t%1==.5?Math.floor(t)+"30":Math.round(t)+"00"}},{key:"getHoursDuration",value:function(t,e,a){var n=new o.default(t),r=new o.default(e);a&&(n.utcOffset(a),r.utcOffset(a));var l=o.default.duration(r.diff(n)).asHours();return this.getMilitaryHours(l)}},{key:"formatIcsText",value:function(t,e){return t?(t=t.replace(/\n/g,"\\n"),t=t.substring(0,e)):""}},{key:"toUniversalTime",value:function(t,e){var a=(0,o.default)(t);return e&&a.utcOffset(e),a.format("YYYYMMDDTHHmmss")}},{key:"getIcsBlob",value:function(t){return new Blob([t],{type:"application/octet-stream"})}},{key:"getIcsFileName",value:function(t){return t?t.replace(/[^\w ]+/g,"")+".ics":"event.ics"}},{key:"getUid",value:function(){return Math.random().toString(36).substr(2)}},{key:"getTimeCreated",value:function(){return(new o.default).format("YYYYMMDDTHHmmss")}}]),t}();e.default=i},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),i=n(o),u=a(6),c=n(u),d=a(0),s=n(d),f=function(){function t(e,a){r(this,t),this.FileSaver=a,this.dates={},this.init.call(this),this.watchAttrs.call(this,e)}return l(t,[{key:"watchAttrs",value:function(t){var e=this;Object.keys(t).forEach(function(a){t.$observe(a,e.init.bind(e))})}},{key:"setTimesFromFormat",value:function(){var t=this;["startDate","endDate"].forEach(function(e){t.dates[e]=i.default.toUniversalTime(t[e],t.timezone)})}},{key:"getSanitizedData",value:function(){var t=this,e={};return Object.keys(s.default).forEach(function(a){e[a]=encodeURIComponent(t[a]||"")}),e}},{key:"buildUrl",value:function(){var t=angular.extend(this.getSanitizedData.call(this),this.dates),e=angular.extend({},this,this.dates);this.calendarUrl={microsoft:c.default.getMicrosoftCalendarUrl(t),google:c.default.getGoogleCalendarUrl(t),yahoo:c.default.getYahooCalendarUrl(t),icalendar:c.default.getIcsCalendar(e),dlIcal:this.dlIcal.bind(this)}}},{key:"dlIcal",value:function(){var t=i.default.getIcsFileName(this.title),e=this.calendarUrl.icalendar,a=i.default.getIcsBlob(e);this.FileSaver.saveAs(a,t)}},{key:"toggleMenu",value:function(t){this.isOpen=t}},{key:"init",value:function(){this.setTimesFromFormat.call(this),this.buildUrl.call(this)}}]),t}();e.default=f,f.$inject=["$attrs","FileSaver"]},function(t,e){},function(t,e){t.exports='<div class="{{ addtocalendar.useBootstrap ? \'\' : \'atc-\' }}btn-group {{ addtocalendar.className }}" ng-class="{ active: addtocalendar.isOpen }" title="{{ addtocalendar.hoverText || addtocalendar.title }}">\r\n\t<span type="button" ng-class="{ \'btn btn-default dropdown-toggle\': addtocalendar.useBootstrap }" ng-click="addtocalendar.toggleMenu(true)" data-toggle="dropdown">\r\n\t\t{{ addtocalendar.btnText || \'Add to calendar\' }}\r\n\t\t<span class="caret" ng-hide="addtocalendar.hideCaret"></span>\r\n\t</span>\r\n\t<ul ng-show="addtocalendar.isOpen" ng-class="{ \'dropdown-menu\': addtocalendar.useBootstrap, \'atc-dropdown\': !addtocalendar.useBootstrap }">\r\n\t\t<li>\r\n\t\t\t<a ng-click="addtocalendar.calendarUrl.dlIcal()" ng-if="addtocalendar.calendarUrl.dlIcal">iCalendar</a>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<a href="{{addtocalendar.calendarUrl.google}}" target="_blank">Google Calendar</a>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<a ng-click="addtocalendar.calendarUrl.dlIcal()" ng-if="addtocalendar.calendarUrl.dlIcal">Outlook</a>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<a href="{{addtocalendar.calendarUrl.yahoo}}" target="_blank">Yahoo! Calendar</a>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<a href="{{addtocalendar.calendarUrl.microsoft}}" target="_blank">Microsoft Calendar</a>\r\n\t\t</li>\r\n\t</ul>\r\n</div>\r\n'},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(2),l=n(r),o=a(0),i=n(o),u=a(4),c=n(u);a(3);var d={template:c.default,controller:l.default,controllerAs:"addtocalendar",bindings:i.default};angular.module("angular-atc",[]).controller("AddtocalendarCtrl",l.default).component("addtocalendar",d),e.default="angular-atc"},function(t,e,a){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),l=a(1),o=function(t){return t&&t.__esModule?t:{default:t}}(l),i=function(){function t(){n(this,t)}return r(t,null,[{key:"getYahooCalendarUrl",value:function(t){var e="http://calendar.yahoo.com/?v=60&view=d&type=20",a=o.default.getHoursDuration(t.startDate,t.endDate);return e+="&TITLE="+t.title,e+="&ST="+t.startDate+"&DUR="+a,e+="&DESC="+t.description,e+="&in_loc="+t.location}},{key:"getMicrosoftCalendarUrl",value:function(t){var e="http://calendar.live.com/calendar/calendar.aspx?rru=addevent";return e+="&summary="+t.title,e+="&dtstart="+t.startDate+"&dtend="+t.endDate,e+="&description="+t.description,e+="&location="+t.location}},{key:"getGoogleCalendarUrl",value:function(t){var e="https://www.google.com/calendar/render?action=TEMPLATE";return e+="&text="+t.title,e+="&dates="+t.startDate+"/"+t.endDate,e+="&details="+t.description,e+="&location="+t.location}},{key:"getIcsCalendar",value:function(t){return["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","CLASS:PUBLIC","DESCRIPTION:"+o.default.formatIcsText(t.description,62),"DTSTART:"+t.startDate,"DTEND:"+t.endDate,"LOCATION:"+o.default.formatIcsText(t.location,64),"SUMMARY:"+o.default.formatIcsText(t.title,66),"TRANSP:TRANSPARENT","END:VEVENT","END:VCALENDAR","UID:"+o.default.getUid(),"DTSTAMP:"+o.default.getTimeCreated(),"PRODID:angular-addtocalendar"].join("\n")}}]),t}();e.default=i},function(t,e){t.exports=moment}]);