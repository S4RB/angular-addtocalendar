!function(t){function e(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var a={};e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=5)}([function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={startDate:"@",endDate:"@",title:"@",description:"@",location:"@",btnText:"@",hoverText:"@",className:"@",useCaret:"@",useBootstrap:"@"}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),l=a(8),i=n(l),u=a(7),c=n(u),d=function(){function t(){r(this,t)}return o(t,null,[{key:"getMilitaryHours",value:function(t){return t%1==.5?("0"+Math.floor(t)+"30").slice(-4):("0"+Math.round(t)+"00").slice(-4)}},{key:"getHoursDuration",value:function(t,e,a){var n=new i.default(t),r=new i.default(e);a&&(n.utcOffset(a),r.utcOffset(a));var o=i.default.duration(r.diff(n)).asHours();return this.getMilitaryHours(o)}},{key:"formatIcsText",value:function(t,e,a){return t?(a?t=(0,c.default)(e)(t).replace(/\n/g,"\\n "):(t=t.replace(/\n/g,"\\n"),t=t.substring(0,e)),t):""}},{key:"toUniversalTime",value:function(t,e){var a=(0,i.default)(t);return e&&a.utcOffset(e),a.format("YYYYMMDDTHHmmss")}},{key:"getIcsBlob",value:function(t){return new Blob([t],{type:"application/octet-stream"})}},{key:"getIcsFileName",value:function(t){return t?t.replace(/[^\w ]+/g,"")+".ics":"event.ics"}},{key:"getUid",value:function(){return Math.random().toString(36).substr(2)}},{key:"getTimeCreated",value:function(){return(new i.default).format("YYYYMMDDTHHmmss")}}]),t}();e.default=d},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),l=a(1),i=n(l),u=a(6),c=n(u),d=a(0),s=n(d),f=function(){function t(e,a){r(this,t),this.FileSaver=a,this.dates={},this.init.call(this),this.watchAttrs.call(this,e)}return o(t,[{key:"watchAttrs",value:function(t){var e=this;Object.keys(t).forEach(function(a){t.$observe(a,e.init.bind(e))})}},{key:"setTimesFromFormat",value:function(){var t=this;["startDate","endDate"].forEach(function(e){t.dates[e]=i.default.toUniversalTime(t[e],t.timezone)})}},{key:"getSanitizedData",value:function(){var t=this,e={};return Object.keys(s.default).forEach(function(a){e[a]=encodeURIComponent(t[a]||"")}),e}},{key:"buildUrl",value:function(){var t=angular.extend(this.getSanitizedData.call(this),this.dates),e=angular.extend({},this,this.dates);this.calendarUrl={microsoft:c.default.getMicrosoftCalendarUrl(t),google:c.default.getGoogleCalendarUrl(t),yahoo:c.default.getYahooCalendarUrl(t),icalendar:c.default.getIcsCalendar(e),dlIcal:this.dlIcal.bind(this)}}},{key:"dlIcal",value:function(){var t=i.default.getIcsFileName(this.title),e=this.calendarUrl.icalendar,a=i.default.getIcsBlob(e);this.FileSaver.saveAs(a,t)}},{key:"toggleMenu",value:function(t){this.isOpen=void 0===t?void 0===this.isOpen||!this.isOpen:t}},{key:"init",value:function(){this.setTimesFromFormat.call(this),this.buildUrl.call(this)}}]),t}();e.default=f,f.$inject=["$attrs","FileSaver"]},function(t,e){},function(t,e){t.exports='<div class="{{ addtocalendar.useBootstrap ? \'\' : \'atc-\' }}btn-group {{ addtocalendar.className }}" ng-class="{ active: addtocalendar.isOpen }" title="{{ addtocalendar.hoverText || addtocalendar.title }}">\r\n\t<span type="button" ng-class="{ \'btn btn-default dropdown-toggle\': addtocalendar.useBootstrap }" ng-click="addtocalendar.toggleMenu()" data-toggle="dropdown">\r\n\t\t{{ addtocalendar.btnText || \'Add to calendar\' }}\r\n\t\t<span class="caret" ng-hide="addtocalendar.hideCaret"></span>\r\n\t</span>\r\n\t<ul ng-show="addtocalendar.isOpen" ng-class="{ \'dropdown-menu\': addtocalendar.useBootstrap, \'atc-dropdown\': !addtocalendar.useBootstrap }">\r\n\t\t<li>\r\n\t\t\t<a ng-click="addtocalendar.calendarUrl.dlIcal()" ng-if="addtocalendar.calendarUrl.dlIcal">iCalendar</a>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<a href="{{addtocalendar.calendarUrl.google}}" target="_blank">Google Calendar</a>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<a ng-click="addtocalendar.calendarUrl.dlIcal()" ng-if="addtocalendar.calendarUrl.dlIcal">Outlook</a>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<a href="{{addtocalendar.calendarUrl.yahoo}}" target="_blank">Yahoo! Calendar</a>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<a href="{{addtocalendar.calendarUrl.microsoft}}" target="_blank">Microsoft Calendar</a>\r\n\t\t</li>\r\n\t</ul>\r\n</div>\r\n'},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(2),o=n(r),l=a(0),i=n(l),u=a(4),c=n(u);a(3);var d={template:c.default,controller:o.default,controllerAs:"addtocalendar",bindings:i.default};angular.module("s4rb.angular-atc",[]).controller("AddtocalendarCtrl",o.default).component("addtocalendar",d),e.default="s4rb.angular-atc"},function(t,e,a){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),l=function(t){return t&&t.__esModule?t:{default:t}}(o),i=function(){function t(){n(this,t)}return r(t,null,[{key:"getYahooCalendarUrl",value:function(t){var e="http://calendar.yahoo.com/?v=60&view=d&type=20",a=l.default.getHoursDuration(t.startDate,t.endDate);return e+="&TITLE="+t.title,e+="&ST="+t.startDate+"&DUR="+a,e+="&DESC="+t.description,e+="&in_loc="+t.location}},{key:"getMicrosoftCalendarUrl",value:function(t){var e="http://calendar.live.com/calendar/calendar.aspx?rru=addevent";return e+="&summary="+t.title,e+="&dtstart="+t.startDate+"&dtend="+t.endDate,e+="&description="+t.description,e+="&location="+t.location}},{key:"getGoogleCalendarUrl",value:function(t){var e="https://www.google.com/calendar/render?action=TEMPLATE";return e+="&text="+t.title,e+="&dates="+t.startDate+"/"+t.endDate,e+="&details="+t.description,e+="&location="+t.location}},{key:"getIcsCalendar",value:function(t){return["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","CLASS:PUBLIC","DESCRIPTION:"+l.default.formatIcsText(t.description,62,!0),"DTSTART:"+t.startDate,"DTEND:"+t.endDate,"LOCATION:"+l.default.formatIcsText(t.location,64),"SUMMARY:"+l.default.formatIcsText(t.title,66),"TRANSP:TRANSPARENT","END:VEVENT","END:VCALENDAR","UID:"+l.default.getUid(),"DTSTAMP:"+l.default.getTimeCreated(),"PRODID:angular-addtocalendar"].join("\n")}}]),t}();e.default=i},function(t,e){var a=t.exports=function(t,e,a){"object"==typeof t&&(a=t,t=a.start,e=a.stop),"object"==typeof e&&(a=e,t=t||a.start,e=void 0),e||(e=t,t=0),a||(a={});var n=a.mode||"soft",r="hard"===n?/\b/:/(\S+\s+)/;return function(a){return a.toString().split(r).reduce(function(a,r){if("hard"===n)for(var o=0;o<r.length;o+=e-t)a.push(r.slice(o,o+e-t));else a.push(r);return a},[]).reduce(function(a,n){if(""===n)return a;var r=n.replace(/\t/g,"    "),o=a.length-1;if(a[o].length+r.length>e)a[o]=a[o].replace(/\s+$/,""),r.split(/\n/).forEach(function(e){a.push(new Array(t+1).join(" ")+e.replace(/^\s+/,""))});else if(r.match(/\n/)){var l=r.split(/\n/);a[o]+=l.shift(),l.forEach(function(e){a.push(new Array(t+1).join(" ")+e.replace(/^\s+/,""))})}else a[o]+=r;return a},[new Array(t+1).join(" ")]).join("\n")}};a.soft=a,a.hard=function(t,e){return a(t,e,{mode:"hard"})}},function(t,e){t.exports=moment}]);